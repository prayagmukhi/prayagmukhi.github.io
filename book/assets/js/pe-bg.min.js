var peBg=function(){"use strict";function e(){for(var e=0;e<t.length;e++)t[e].classList.remove("pe-parallax","pe-fixed","x2","x3","x4"),t[e].style.backgroundImage="",t[e].style.backgroundColor=""}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var t,r,a,o,n=function(e,n){function l(){g=window.scrollY(),i()}function i(){b||requestAnimFrame(s),b=!0}function s(){b=!1;var e=g,t=e,r=document.querySelectorAll(".prlx");if(r.length>0)for(var a=(r[0].getBoundingClientRect(),document.body.scrollTop,.5*t),o=0,n=1,l=t+getViewportH(),i=0;i<r.length;i++)if(inViewport(r[i].parentNode)){var s=d.factor,c=(getViewportH()-r[i].offsetHeight)*s;a=(l-getOffset(r[i]).top-r[i].offsetHeight)*s-c,r[i].style.WebkitTransform="translate3d("+o+"px, "+a+"px, 0) scale("+n+")",r[i].style.transform="translate3d("+o+"px, "+a+"px, 0) scale("+n+")"}}var d={elems:".section-background",blend:"normal",bgColor:"",bgSrc:"",bgOpacity:1,parallax:!1,factor:.55,fixed:!1,mobile:!0,extraHeight:!1};for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);t=d.elems.constructor===Array?d.elems.map(function(e){return document.querySelector(e)}):document.querySelectorAll(d.elems);for(var u=0;u<t.length;u++)!function(e){if(null!==t[e]&&((t[e].dataset.bgBlend||d.blend)&&(r=t[e].dataset.bgBlend?t[e].dataset.bgBlend:d.blend),(t[e].dataset.bgColor||d.bgColor)&&(a=t[e].dataset.bgColor?t[e].dataset.bgColor:d.bgColor),(t[e].dataset.bgOpacity||d.bgOpacity)&&(o=t[e].dataset.bgOpacity?t[e].dataset.bgOpacity:d.bgOpacity),t[e].dataset.bgSrc||d.bgSrc)){var l=t[e].dataset.bgSrc?t[e].dataset.bgSrc:d.bgSrc;if(d.extraHeight&&t[e].classList.add(d.extraHeight),d.fixed&&t[e].classList.add("pe-fixed"),t[e].classList.contains("pe-parallax")||d.parallax)if(!d.mobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))t[e].style.backgroundImage="url("+l+")",r&&(t[e].style.backgroundColor=a,t[e].style.webkitBackgroundBlendMode=r,t[e].style.backgroundBlendMode=r);else{t[e].classList.contains("pe-parallax")||t[e].classList.add("pe-parallax");var i;null!==t[e].querySelector(".prlx")?i=document.querySelector(".prlx"):(i=document.createElement("div"),i.className="prlx",t[e].insertBefore(i,t[e].firstChild));var s=new Image;s.onload=function(){i.style.backgroundImage="url("+l+")","function"==typeof n&&n()},s.src=l,r&&(i.style.backgroundColor=a,i.style.webkitBackgroundBlendMode=r,i.style.backgroundBlendMode=r,i.style.opacity=o)}else{null!==t[e].querySelector(".prlx")&&t[e].removeChild(t[e].querySelector(".prlx"));var s=new Image;s.onload=function(){t[e].style.backgroundImage="url("+l+")","function"==typeof n&&n()},s.src=l,r&&(t[e].style.backgroundColor=a,t[e].style.webkitBackgroundBlendMode=r,t[e].style.backgroundBlendMode=r)}}}(u);var g=0,b=!1;window.addEventListener("scroll",l),l()};return{init:n,reset:e}};