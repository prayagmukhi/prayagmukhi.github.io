var peSlider=function(){"use strict";function e(e,s){return(" "+e.className+" ").indexOf(" "+s+" ")>-1}function s(e){var s=e.offsetWidth,t=getComputedStyle(e);return s+=parseInt(t.marginLeft)+parseInt(t.marginRight)}var t,i,n,r,a,l,d,o,c,u,f,p=function(e){a={slider:".pe-slider",navigation:!0,pagination:!0,auto:!1,delay:5e3,hoverPause:!1,infinite:!0,hoverNav:!1,carousel:!1,overflow:!1,swipe:!1,touch:!1,afterChange:null,beforeChange:null};for(var s in e)e.hasOwnProperty(s)&&(a[s]=e[s]);i=1===a.slider.nodeType?a.slider:document.querySelector(a.slider),t=i.querySelector(".pe-slides"),n=t.querySelectorAll("li"),r=[].slice.call(n),l=i.querySelector(".pe-slider-prev"),d=i.querySelector(".pe-slider-next"),o=g(n),f={slider:t,wrapper:i,slides:n,slidesList:r,prev:l,next:d,sliderPagination:o,timer:0,infinite:a.infinite,carousel:a.carousel,afterChange:a.afterChange,beforeChange:a.beforeChange},v(a,f)},v=function(i,r){function a(){var e=window.getComputedStyle(t,null),s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform")||"Either no transform set, or browser doesn't do getComputedStyle",i=s.split("(")[1],i=i.split(")")[0],i=i.split(","),n=i[4];return n}function o(e){if(f(t,e.target)){var s=e.pageX;O=(q-s)/N*100,t.style.webkitTransform="translate3d("+(a()-O)+"px, 0px, 0px)",t.style.transform="translate3d("+(a()-O)+"px, 0px, 0px)"}}function f(e,s){for(var t=s.parentNode;null!=t;){if(t==e)return!0;t=t.parentNode}return!1}function p(e){q=e.pageX,N=window.innerWidth,O=0,this.addEventListener("mousemove",o,!1),this.addEventListener("touchmove",o,!1)}function v(){return this.removeEventListener("mousemove",o,!1),this.removeEventListener("touchmove",o,!1),r.carousel||(t.style.webkitTransform="translate3d(0px, 0px, 0px)",t.style.transform="translate3d(0px, 0px, 0px)"),O>-8&&8>O||!O?(t.classList.add("anim"),r.carousel&&m(r,c.number),void t.addEventListener("transitionend",function(){t.classList.remove("anim")},!1)):(-8>=O&&h(null,r,r.afterChange,r.beforeChange),void(O>=8&&L(null,r,r.afterChange,r.beforeChange)))}function g(){for(var e=0,t=0;t<r.slidesList.length;t++)e+=s(r.slidesList[t]);r.slider.style.width=e+"px"}function y(){var e=r.slider.querySelector(".selected"),s=r.slidesList.indexOf(e);g(),m(r,s)}function x(){clearInterval(r.timer)}function E(){C(r,i.delay)}function S(){L(null,r,r.afterChange,r.beforeChange),i.auto&&!i.hoverPause&&C(r,i.delay)}function b(){h(null,r,r.afterChange,r.beforeChange),i.auto&&!i.hoverPause&&C(r,i.delay)}function P(){var s=this;if(!e(s,"selected")){var t=[].slice.call(this.parentNode.children),n=t.indexOf(this),a=r.slidesList.indexOf(r.slider.querySelector(".selected"));n>a?L(n,r,r.afterChange,r.beforeChange):h(n,r,r.afterChange,r.beforeChange),i.auto&&!i.hoverPause&&C(r,i.delay)}}w(r);var q,O,N,k=r.slider.querySelector(".selected"),I=r.slidesList.indexOf(k);r.wrapper.classList.add("pe-slider-wrapper"),i.overflow&&r.wrapper.classList.add("overflow"),u=n.length,c={number:I,elem:r.slidesList[I]},r.carousel&&(r.slider.classList.add("carousel"),g(),m(r,I),window.addEventListener("resize",y,!1),window.addEventListener("orientationchange",g,!1),window.addEventListener("orientationchange",y,!1)),i.swipe&&(r.slider.classList.add("swipe"),document.addEventListener("mousedown",p,!1),document.addEventListener("touchstart",p,!1),document.addEventListener("mouseup",v,!1),document.addEventListener("touchend",v,!1)),i.touch&&(document.addEventListener("touchstart",p,!1),document.addEventListener("touchend",v,!1)),i.navigation||r.wrapper.classList.add("no-nav"),i.pagination||r.wrapper.classList.add("no-pag"),i.hoverNav&&r.wrapper.classList.add("nav-hover"),i.auto&&(C(r,i.delay),i.hoverPause&&(r.wrapper.addEventListener("mouseover",x,!1),r.wrapper.addEventListener("mouseout",E,!1))),d.addEventListener("click",S,!1),l.addEventListener("click",b,!1);for(var T=0;T<r.sliderPagination.length;T++)r.sliderPagination[T].addEventListener("click",P,!1)},L=function(e,s,i,n){"function"==typeof n&&n();var r,a=s.slider.querySelector(".selected"),l=s.wrapper.querySelector(".pe-slider-pag .selected");r=null===e?s.slidesList.indexOf(a)+1:e;var d=r==s.slidesList.length?0:r;c={number:d,elem:s.slidesList[d]},a.classList.remove("selected"),l.classList.remove("selected"),r===s.slides.length?(s.slides[0].classList.add("selected"),s.sliderPagination[0].classList.add("selected"),s.slidesList.forEach(function(e,t){s.slides[t].classList.remove("past")})):(s.slides[r].classList.add("selected"),s.sliderPagination[r].classList.add("selected"),s.slidesList.forEach(function(e,t){r>t&&s.slides[t].classList.add("past")})),s.infinite||y(s.slides[r],s),s.carousel&&(t.classList.add("anim"),m(s,d),t.addEventListener("transitionend",function(){t.classList.remove("anim")},!1)),"function"==typeof i&&i()},h=function(e,s,i,n){"function"==typeof n&&n();var r,a=s.slider.querySelector(".selected"),l=s.wrapper.querySelector(".pe-slider-pag .selected");r=null===e?s.slidesList.indexOf(a)-1:e;var d=0>r?s.slidesList.length-1:r;c={number:d,elem:s.slidesList[d]},a.classList.remove("selected"),l.classList.remove("selected"),s.infinite&&s.slidesList.forEach(function(e,t){s.slides[t].classList.add("past")}),-1===r?(s.slides[s.slides.length-1].classList.add("selected"),s.slides[s.slides.length-1].classList.remove("past"),s.sliderPagination[s.slides.length-1].classList.add("selected")):(s.slides[r].classList.add("selected"),s.slides[r].classList.remove("past"),s.sliderPagination[r].classList.add("selected"),s.slidesList.forEach(function(e,t){t>r&&s.slides[t].classList.remove("past")})),s.infinite||y(s.slides[r],s),s.carousel&&(t.classList.add("anim"),m(s,d),t.addEventListener("transitionend",function(){t.classList.remove("anim")},!1)),"function"==typeof i&&i()},m=function(e,i){for(var n=e.wrapper.offsetWidth,r=s(e.slidesList[i]),a=0,l=0;i>l;l++)a+=s(e.slidesList[l]);var d=n/2-r/2-a;return t.style.webkitTransform="translate3d("+d+"px, 0px, 0px)",t.style.transform="translate3d("+d+"px, 0px, 0px)",d},g=function(e){var s=document.createElement("ul");return s.className="pe-slider-pag",[].slice.call(e).forEach(function(e,t){var i=document.createElement("li");0===t&&(i.className="selected");var n=document.createElement("a");n.setAttribute("href","#0"),n.innerHTML=t+1,i.appendChild(n),s.appendChild(i)}),i.appendChild(s),s.querySelectorAll("li")},y=function(e,s){0===s.slidesList.indexOf(e)?s.prev.classList.add("inactive"):s.prev.classList.remove("inactive"),s.slidesList.indexOf(e)===s.slides.length-1?s.next.classList.add("inactive"):s.next.classList.remove("inactive"),s.slidesList.forEach(function(t,i){i<s.slidesList.indexOf(e)&&s.slides[i].classList.add("past")})},w=function(e){var s;e.slider.querySelector(".selected")?(s=e.slidesList.indexOf(e.slider.querySelector(".selected")),e.carousel&&m(e,s),e.wrapper.querySelector(".pe-slider-pag .selected").classList.remove("selected"),e.sliderPagination[s].classList.add("selected"),e.infinite||y(e.slides[s],e)):(e.slider.querySelector("li").classList.add("selected"),e.infinite||y(e.slides[0],e))},x=function(e,s){e===s.slides.length-1?h(0,s,s.afterChange,s.beforeChange):L(null,s,s.afterChange,s.beforeChange)},C=function(e,s){clearInterval(e.timer),e.timer=setInterval(function(){var s=e.slidesList.indexOf(e.slider.querySelector(".selected"));x(s,e)},s)},E=function(){return c},S=function(){return u},b=function(){L(null,f,f.afterChange,f.beforeChange)},P=function(){h(null,f,f.afterChange,f.beforeChange)},q=function(){return{slider:t,wrapper:i,slides:n}};return{init:p,activeSlide:E,totalSlides:S,nextSlide:b,prevSlide:P,getSlider:q}};