var peSlider=function(){"use strict";function e(e,s){return(" "+e.className+" ").indexOf(" "+s+" ")>-1}function s(e){var s=e.offsetWidth,i=getComputedStyle(e);return s+=parseInt(i.marginLeft)+parseInt(i.marginRight)}var i,t,l,n,a,r,d,c,o,f,u,p=function(e){a={slider:".pe-slider",navigation:!0,pagination:!0,auto:!1,delay:5e3,hoverPause:!1,infinite:!0,hoverNav:!1,carousel:!1,afterChange:function(){},beforeChange:function(){}};for(var s in e)e.hasOwnProperty(s)&&(a[s]=e[s]);t=1===a.slider.nodeType?a.slider:document.querySelector(a.slider),i=t.querySelector(".pe-slides"),l=i.querySelectorAll("li"),n=[].slice.call(l),r=t.querySelector(".pe-slider-prev"),d=t.querySelector(".pe-slider-next"),c=m(l),u={slider:i,wrapper:t,slides:l,slidesList:n,prev:r,next:d,sliderPagination:c,timer:0,infinite:a.infinite,carousel:a.carousel,afterChange:a.afterChange,beforeChange:a.beforeChange},v(a,u)},v=function(i,t){function n(){for(var e=0,i=0;i<t.slidesList.length;i++)e+=s(t.slidesList[i]);t.slider.style.width=e+"px"}function a(){var e=t.slider.querySelector(".selected"),s=t.slidesList.indexOf(e);g(t,s)}function c(){clearInterval(t.timer)}function u(){w(t,i.delay)}function p(){L(null,t,t.afterChange,t.beforeChange),i.auto&&!i.hoverPause&&w(t,i.delay)}function v(){h(null,t,t.afterChange,t.beforeChange),i.auto&&!i.hoverPause&&w(t,i.delay)}function m(){var s=this;if(!e(s,"selected")){var l=[].slice.call(this.parentNode.children),n=l.indexOf(this),a=t.slidesList.indexOf(t.slider.querySelector(".selected"));n>a?L(n,t,t.afterChange,t.beforeChange):h(n,t,t.afterChange,t.beforeChange),i.auto&&!i.hoverPause&&w(t,i.delay)}}var y=t.slider.querySelector(".selected"),S=t.slidesList.indexOf(y);f=l.length,o={number:S,elem:t.slidesList[S]},t.wrapper.classList.add("pe-slider-wrapper"),C(t),t.carousel&&(t.slider.classList.add("carousel"),n(),g(t,S),window.addEventListener("resize",a,!1),window.addEventListener("orientationchange",n,!1),window.addEventListener("orientationchange",a,!1)),i.navigation||t.wrapper.classList.add("no-nav"),i.pagination||t.wrapper.classList.add("no-pag"),i.hoverNav&&t.wrapper.classList.add("nav-hover"),i.auto&&(w(t,i.delay),i.hoverPause&&(t.wrapper.addEventListener("mouseover",c,!1),t.wrapper.addEventListener("mouseout",u,!1))),d.addEventListener("click",p,!1),r.addEventListener("click",v,!1);for(var x=0;x<t.sliderPagination.length;x++)t.sliderPagination[x].addEventListener("click",m,!1)},L=function(e,s,i,t){"function"==typeof t&&t();var l,n=s.slider.querySelector(".selected"),a=s.wrapper.querySelector(".pe-slider-pag .selected");l=null===e?s.slidesList.indexOf(n)+1:e;var r=l==s.slidesList.length?0:l;o={number:r,elem:s.slidesList[r]},n.classList.remove("selected"),a.classList.remove("selected"),l===s.slides.length?(s.slides[0].classList.add("selected"),s.sliderPagination[0].classList.add("selected"),s.slidesList.forEach(function(e,i){s.slides[i].classList.remove("past")})):(s.slides[l].classList.add("selected"),s.sliderPagination[l].classList.add("selected"),s.slidesList.forEach(function(e,i){l>i&&s.slides[i].classList.add("past")})),s.infinite||y(s.slides[l],s),s.carousel&&g(s,r),"function"==typeof i&&i()},h=function(e,s,i,t){"function"==typeof t&&t();var l,n=s.slider.querySelector(".selected"),a=s.wrapper.querySelector(".pe-slider-pag .selected");l=null===e?s.slidesList.indexOf(n)-1:e;var r=0>l?s.slidesList.length-1:l;o={number:r,elem:s.slidesList[r]},n.classList.remove("selected"),a.classList.remove("selected"),s.infinite&&s.slidesList.forEach(function(e,i){s.slides[i].classList.add("past")}),-1===l?(s.slides[s.slides.length-1].classList.add("selected"),s.slides[s.slides.length-1].classList.remove("past"),s.sliderPagination[s.slides.length-1].classList.add("selected")):(s.slides[l].classList.add("selected"),s.slides[l].classList.remove("past"),s.sliderPagination[l].classList.add("selected"),s.slidesList.forEach(function(e,i){i>l&&s.slides[i].classList.remove("past")})),s.infinite||y(s.slides[l],s),s.carousel&&g(s,r),"function"==typeof i&&i()},g=function(e,t){for(var l=e.wrapper.offsetWidth,n=s(e.slidesList[t]),a=0,r=0;t>r;r++)a+=s(e.slidesList[r]);var d=l/2-n/2-a;i.style.webkitTransform="translateX("+d+"px)",i.style.transform="translateX("+d+"px)"},m=function(e){var s=document.createElement("ul");return s.className="pe-slider-pag",[].slice.call(e).forEach(function(e,i){var t=document.createElement("li");0===i&&(t.className="selected");var l=document.createElement("a");l.setAttribute("href","#0"),l.innerHTML=i+1,t.appendChild(l),s.appendChild(t)}),t.appendChild(s),s.querySelectorAll("li")},y=function(e,s){0===s.slidesList.indexOf(e)?s.prev.classList.add("inactive"):s.prev.classList.remove("inactive"),s.slidesList.indexOf(e)===s.slides.length-1?s.next.classList.add("inactive"):s.next.classList.remove("inactive"),s.slidesList.forEach(function(i,t){t<s.slidesList.indexOf(e)&&s.slides[t].classList.add("past")})},C=function(e){var s;e.slider.querySelector(".selected")?(s=e.slidesList.indexOf(e.slider.querySelector(".selected")),g(e,s),e.wrapper.querySelector(".pe-slider-pag .selected").classList.remove("selected"),e.sliderPagination[s].classList.add("selected"),e.infinite||y(e.slides[s],e)):(e.slider.querySelector("li").classList.add("selected"),e.infinite||y(e.slides[0],e))},S=function(e,s){e===s.slides.length-1?h(0,s,s.afterChange,s.beforeChange):L(null,s,s.afterChange,s.beforeChange)},w=function(e,s){clearInterval(e.timer),e.timer=setInterval(function(){var s=e.slidesList.indexOf(e.slider.querySelector(".selected"));S(s,e)},s)},x=function(){return o},q=function(){return f},E=function(){L(null,u,u.afterChange,u.beforeChange)},b=function(){h(null,u,u.afterChange,u.beforeChange)};return{init:p,activeSlide:x,totalSlides:q,nextSlide:E,prevSlide:b}};